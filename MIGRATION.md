# Migration Guide: Relationship & Gender Features

## What's New

AgeBond now includes enhanced relationship and gender features that make the AI more contextual and precise. Here's what changed:

### New Features
1. **Clean Slate Start**: New users start with an empty family and add themselves first
2. **Single Self Identity**: Only one person can have the "self" relationship
3. **Gender Selection**: Each family member now has a gender (Male/Female)
4. **Simplified Relationships**: Streamlined relationship types (parent, sibling, child, etc.)
5. **Gender Context**: AI uses gender to provide accurate relationship terms (father/mother, brother/sister)
6. **Personal Perspective**: The app works from your point of view as the main person
7. **Enhanced Natural Language**: More precise AI responses using gender-aware relationship context

### Automatic Migration

If you were already using AgeBond, your existing data will be automatically migrated:
- Existing family members will be assigned "Male" gender by default
- Complex relationship types will be simplified (e.g., "mother" becomes "parent" with "Female" gender)
- You can update both relationships and gender by clicking on them in the Family Panel

### How to Set Relationships and Gender

1. **For New Members**: Select both relationship and gender when adding them
2. **For Existing Members**: Click on the relationship or gender text in the Family Panel to edit
3. **Simplified Relationships**: parent, child, sibling, spouse, grandparent, uncle, aunt, cousin, etc.
4. **Gender Options**: Male or Female

### AI Query Examples

**Enhanced with Gender Context:**
- "When will my brother be 30?" (AI knows it's a male sibling)
- "How old will my mom be when I turn 25?" (AI knows it's a female parent)
- "When will my dad and I have the same combined age as my grandmother?" (AI understands all gender contexts)

### Benefits

1. **Clean Setup**: New users get a guided setup experience
2. **Single Identity**: Prevents confusion with multiple "self" persons
3. **More Natural**: Ask questions the way you naturally think about family
4. **Personal Context**: AI responses are tailored to your perspective
5. **Better Understanding**: AI can distinguish between "my mom" and "John's mom"
6. **Precise Context**: Gender + relationship provides exact relationship understanding
7. **Relationship Memory**: The app remembers who is who in your family

### For New Users

- Start with a welcome screen explaining the app
- Add yourself first to establish your identity
- Then add family members with relationships to you
- Enjoy a clean, personalized experience from the start

### Troubleshooting

If you experience any issues:
1. Check that relationships are set correctly in the Family Panel
2. Make sure "You" is designated as the main person
3. Clear browser storage and re-add family members if needed

The relationship system is designed to be backward compatible, so all your existing queries and calculations will continue to work as before.
